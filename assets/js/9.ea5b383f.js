(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{255:function(t,e,a){"use strict";a(49);var s=a(256),i=a.n(s);e.a={data:()=>({zeroAddress:"0x0000000000000000000000000000000000000000"}),computed:{dapp:{get(){return this.$store.getters.dapp}}},methods:{getParam(t){const e={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,(function(t,a,s){e[a]=void 0!==s?s:""})),t?e[t]?e[t]:null:e},ethGetCall(t,...e){return e.push({from:this.dapp.fallbackAddress}),this.promisify(t,...e)},promisify:(t,...e)=>new Promise((a,s)=>{t(...e,(t,e)=>{t?s(t):a(e)})}),isMobile(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},generateQRCode:t=>i.a.toDataURL(t,{color:{dark:"#b733a7",light:"#0000"}}),makeToast(t,e,a=null){this.$bvToast.toast(e,{title:t,variant:a,solid:!0})},formatStructure(t){return 0===parseInt(t[0].valueOf())?null:{id:parseInt(t[0].valueOf()),address:t[1],fingerprint:this.formatFingerprint(t[2]),creationDate:1e3*t[3].valueOf(),stakedTokens:parseFloat(this.dapp.web3.fromWei(t[4])),usedTokens:parseFloat(this.dapp.web3.fromWei(t[5])),data:t[6],approved:t[7]}},formatFingerprint(t){const e=t.replace("0x","").match(new RegExp(".{1,6}","g"));return{borderColor:"#"+e[0],backgroundColor:"#"+e[1],mainColor:"#"+e[2]}}}}},301:function(t,e,a){"use strict";a.r(e);a(49);var s={name:"Member",mixins:[a(255).a],data:()=>({ref:"",loading:!0,token:{name:"",symbol:"",decimals:18,link:"",logo:""},account:{isMember:!1,memberId:0,tokenBalance:0,member:null}}),computed:{dapp:{get(){return this.$store.getters.dapp}}},mounted(){this.ref=this.getParam("ref"),this.initDapp()},methods:{initDapp(){try{this.$store.dispatch("initShakaToken"),this.$store.dispatch("initDao"),this.ready()}catch(t){console.log(t),this.makeToast("Some errors occurred",t,"danger"),this.$router.push({path:"/"})}},async ready(){await this.getTokenData(),await this.getMember()},async getTokenData(){try{this.token.name=await this.ethGetCall(this.dapp.instances.token.name),this.token.symbol=await this.ethGetCall(this.dapp.instances.token.symbol),this.token.link=this.dapp.network.current.etherscanLink+"/token/"+this.dapp.instances.token.address,this.token.logo=this.$withBase("/assets/images/logo/shaka_logo_white.png")}catch(t){console.log(t),this.makeToast("Some errors occurred",t,"danger"),this.loading=!1}},async getMember(){let t;t=this.dapp.web3.isAddress(this.ref)?await this.ethGetCall(this.dapp.instances.dao.getMemberByAddress,this.ref):await this.ethGetCall(this.dapp.instances.dao.getMemberById,this.ref),this.account.member=this.formatStructure(t),this.account.member&&(this.account.tokenBalance=parseFloat(this.dapp.web3.fromWei(await this.ethGetCall(this.dapp.instances.token.balanceOf,this.account.member.address))).toFixed(2),this.account.memberId=this.account.member.id),this.loading=!1}}},i=a(19),r=Object(i.a)(s,(function(){var t=this._self._c;return t("b-container",[t("b-row",{staticClass:"mt-4"},[t("b-col",{attrs:{lg:"10","offset-lg":"1"}},[this.loading?[t("b-card",{staticClass:"mb-3"},[t("ui--loader",{attrs:{loading:!0}})],1)]:this.account.member?[t("ui--member-details",{attrs:{account:this.account,token:this.token}})]:[t("b-card-body",[this._v("\n                    No member found.\n                ")])]],2)],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);