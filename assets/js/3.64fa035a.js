(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{304:function(t,e,a){"use strict";a(86),a(58),a(154),a(22),a(309),a(305),a(310),a(311),a(312);var n=a(313),r=a.n(n);e.a={data:function(){return{zeroAddress:"0x0000000000000000000000000000000000000000"}},computed:{dapp:{get:function(){return this.$store.getters.dapp}}},methods:{getParam:function(t){var e={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,(function(t,a,n){e[a]=void 0!==n?n:""})),t?e[t]?e[t]:null:e},ethGetCall:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];return a.push({from:this.dapp.fallbackAddress}),this.promisify.apply(this,[t].concat(a))},promisify:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];return new Promise((function(e,n){t.apply(void 0,a.concat([function(t,a){t?n(t):e(a)}]))}))},isMobile:function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},generateQRCode:function(t){return r.a.toDataURL(t,{color:{dark:"#b733a7",light:"#0000"}})},makeToast:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:t,variant:a,solid:!0})},formatStructure:function(t){return 0===parseInt(t[0].valueOf())?null:{id:parseInt(t[0].valueOf()),address:t[1],fingerprint:this.formatFingerprint(t[2]),creationDate:1e3*t[3].valueOf(),stakedTokens:parseFloat(this.dapp.web3.fromWei(t[4])),usedTokens:parseFloat(this.dapp.web3.fromWei(t[5])),data:t[6],approved:t[7]}},formatFingerprint:function(t){var e=t.replace("0x","").match(new RegExp(".{1,6}","g"));return{borderColor:"#".concat(e[0]),backgroundColor:"#".concat(e[1]),mainColor:"#".concat(e[2])}}}}},306:function(t,e,a){"use strict";var n=a(1),r=a(307);n({target:"String",proto:!0,forced:a(308)("link")},{link:function(t){return r(this,"a","href",t)}})},307:function(t,e,a){var n=a(21),r=/"/g;t.exports=function(t,e,a,o){var s=String(n(t)),i="<"+e;return""!==a&&(i+=" "+a+'="'+String(o).replace(r,"&quot;")+'"'),i+">"+s+"</"+e+">"}},308:function(t,e,a){var n=a(4);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},323:function(t,e,a){"use strict";var n=a(1),r=a(41),o=a(324),s=a(325),i=a(4),c=1..toFixed,u=Math.floor,d=function(t,e,a){return 0===e?a:e%2==1?d(t,e-1,a*t):d(t*t,e/2,a)},l=function(t,e,a){for(var n=-1,r=a;++n<6;)r+=e*t[n],t[n]=r%1e7,r=u(r/1e7)},p=function(t,e){for(var a=6,n=0;--a>=0;)n+=t[a],t[a]=u(n/e),n=n%e*1e7},m=function(t){for(var e=6,a="";--e>=0;)if(""!==a||0===e||0!==t[e]){var n=String(t[e]);a=""===a?n:a+s.call("0",7-n.length)+n}return a};n({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){c.call({})}))},{toFixed:function(t){var e,a,n,i,c=o(this),u=r(t),f=[0,0,0,0,0,0],h="",k="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(a=(e=function(t){for(var e=0,a=t;a>=4096;)e+=12,a/=4096;for(;a>=2;)e+=1,a/=2;return e}(c*d(2,69,1))-69)<0?c*d(2,-e,1):c/d(2,e,1),a*=4503599627370496,(e=52-e)>0){for(l(f,0,a),n=u;n>=7;)l(f,1e7,0),n-=7;for(l(f,d(10,n,1),0),n=e-1;n>=23;)p(f,1<<23),n-=23;p(f,1<<n),l(f,1,1),p(f,2),k=m(f)}else l(f,0,a),l(f,1<<-e,0),k=m(f)+s.call("0",u);return k=u>0?h+((i=k.length)<=u?"0."+s.call("0",u-i)+k:k.slice(0,i-u)+"."+k.slice(i-u)):h+k}})},324:function(t,e,a){var n=a(23);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},325:function(t,e,a){"use strict";var n=a(41),r=a(21);t.exports="".repeat||function(t){var e=String(r(this)),a="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},360:function(t,e,a){"use strict";a.r(e);var n=a(17),r=(a(155),a(306),a(323),a(305),a(164),a(59),{name:"Dashboard",mixins:[a(304).a],data:function(){return{loading:!0,loadingData:!1,makingTransaction:!1,trx:{hash:"",link:""},token:{name:"",symbol:"",decimals:18,link:"",logo:""},account:{isMember:!1,memberId:0,tokenBalance:0,member:null}}},computed:{dapp:{get:function(){return this.$store.getters.dapp}}},mounted:function(){this.initDapp()},methods:{initDapp:function(){try{this.$store.dispatch("initShakaToken"),this.$store.dispatch("initDao"),this.ready()}catch(t){this.makeToast("Some errors occurred",t,"danger"),document.location.href=this.$withBase("/")}},ready:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokenData();case 2:return e.next=4,t.getAccountData();case 4:t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},enable:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("connect");case 1:case"end":return e.stop()}}),e)})))()},getTokenData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.ethGetCall(t.dapp.instances.token.name);case 3:return t.token.name=e.sent,e.next=6,t.ethGetCall(t.dapp.instances.token.symbol);case 6:t.token.symbol=e.sent,t.token.link=t.dapp.network.current.etherscanLink+"/token/"+t.dapp.instances.token.address,t.token.logo=t.$withBase("/assets/images/logo/shaka_logo_white.png"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t.loading=!1,t.makeToast("Some errors occurred",e.t0,"danger");case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))()},getAccountData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingData=!0,e.prev=1,e.next=4,t.ethGetCall(t.dapp.instances.dao.isMember,t.dapp.metamask.address);case 4:if(t.account.isMember=e.sent,!t.account.isMember){e.next=11;break}return e.next=8,t.ethGetCall(t.dapp.instances.dao.getMemberByAddress,t.dapp.metamask.address);case 8:a=e.sent,t.account.member=t.formatStructure(a),t.account.memberId=t.account.member.id;case 11:return e.t0=parseFloat,e.t1=t.dapp.web3,e.next=15,t.ethGetCall(t.dapp.instances.token.balanceOf,t.dapp.metamask.address);case 15:e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2),t.account.tokenBalance=(0,e.t0)(e.t3).toFixed(2),t.loadingData=!1,e.next=26;break;case 21:e.prev=21,e.t4=e.catch(1),console.log(e.t4),t.makeToast("Some errors occurred",e.t4,"danger"),t.loadingData=!1;case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))()},join:function(){var t=this;try{this.makingTransaction=!0,this.dapp.instances.dao.join({from:this.dapp.metamask.address,to:this.dapp.instances.dao.address},(function(e,a){e?(console.log(e),t.makeToast("Some errors occurred","Maybe you rejected the transaction or you have MetaMask locked!","danger")):(t.trx.hash=a,t.trx.link=t.dapp.network.current.etherscanLink+"/tx/"+t.trx.hash),t.makingTransaction=!1}))}catch(t){console.log(t),this.makingTransaction=!1,this.makeToast("Cannot connect","Please verify that you have MetaMask installed and unlocked.","danger")}}}}),o=a(40),s=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{lg:"10","offset-lg":"1"}},[t.loading?[a("b-card",{staticClass:"mb-3"},[a("ui--loader",{attrs:{loading:!0}})],1)]:[t.dapp.metamask.address?[t.loadingData?[a("ui--loader",{attrs:{loading:!0}})]:[t.account.member?[a("ui--member-details",{attrs:{account:t.account,token:t.token}})]:[a("b-card",{staticClass:"mb-3",attrs:{header:"Your account"}},[a("b",[t._v("Account:")]),t._v(" "),a("b-link",{attrs:{href:t.dapp.network.current.etherscanLink+"/address/"+t.dapp.metamask.address,target:"_blank"}},[t._v("\n                                    "+t._s(t.dapp.metamask.address)+"\n                                ")])],1),t._v(" "),a("b-card",{staticClass:"mb-3",attrs:{header:"FriendsFingers DAO"}},[a("b-btn",{attrs:{variant:"primary",size:"lg",disabled:t.makingTransaction},on:{click:t.join}},[t._v("\n                                    Join DAO\n                                ")]),t._v(" "),a("br"),t._v(" "),t.trx.hash?a("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[t._v("\n                                    Last transaction:\n                                    "),a("b-link",{attrs:{href:t.trx.link,target:"_blank"}},[t._v(t._s(t.trx.hash))])],1):t._e()],1)]]]:[a("b-card",{staticClass:"mb-3",attrs:{header:"Your account"}},[t.dapp.metamask.installed&&t.dapp.metamask.netId===t.dapp.network.current.id?a("p",{staticClass:"card-text"},[a("b-btn",{attrs:{variant:"primary",size:"lg",disabled:!t.dapp.metamask.installed||t.dapp.metamask.netId!==t.dapp.network.current.id},on:{click:t.enable}},[t._v("\n                                Connect\n                            ")])],1):a("b-alert",{attrs:{variant:"warning",show:""}},[t.dapp.metamask.installed?t.dapp.metamask.netId!==t.dapp.network.current.id?[t._v("\n                                You are on the wrong Network."),a("br"),t._v("\n                                Please switch your Ethereum Provider on "),a("b",[t._v(t._s(t.dapp.network.current.name))]),t._v(".\n                            ")]:t._e():[t._v("\n                                Install\n                                "),a("b-link",{attrs:{href:"https://metamask.io/",target:"_blank"}},[t._v("MetaMask")]),t._v(" "),t.isMobile()?[t._v("or a mobile Web3 browser")]:t._e(),t._v("\n                                to view your dashboard.\n                            ")]],2)],1)]]],2)],1)],1)}),[],!1,null,null,null);e.default=s.exports}}]);