"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var o=t[s](a),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}App={web3Provider:null,contracts:{},init:function(){App.initWeb3()},initWeb3:function(){"undefined"!=typeof web3?(App.web3Provider=web3.currentProvider,web3=new Web3(App.web3Provider)):(App.web3Provider=new Web3.providers.HttpProvider(web3Provider),web3=new Web3(App.web3Provider)),web3.version.getNetwork(function(e,t){switch(t){case"1":console.log("This is mainnet");break;case"2":console.log("This is the deprecated Morden test network.");break;case"3":console.log("This is the ropsten test network.");break;case"4":console.log("This is the rinkeby test network.");break;default:console.log("This is an unknown network.")}})},initBuilder:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getJSON(abiPath+"FriendsFingersBuilder.json",function(e){App.contracts.FriendsFingersBuilder=TruffleContract(e),App.contracts.FriendsFingersBuilder.setProvider(App.web3Provider)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initCrowdsale:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getJSON(abiPath+"FriendsFingersCrowdsale.json",function(e){App.contracts.FriendsFingersCrowdsale=TruffleContract(e),App.contracts.FriendsFingersCrowdsale.setProvider(App.web3Provider)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initToken:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$.getJSON(abiPath+"FriendsFingersToken.json",function(e){App.contracts.FriendsFingersToken=TruffleContract(e),App.contracts.FriendsFingersToken.setProvider(App.web3Provider)}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),bountyProgram:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:App.init(),Vue.use(VeeValidate),new Vue({el:"#bounty-program",data:{address_error:!1,copied:!1,wallet:"",email:"",telegram:"",postlink:""},methods:{subscribeBounty:function(){this.address_error=""!==this.wallet&&!web3.isAddress(this.wallet),this.address_error||this.$validator.validateAll().then(function(e){e?$("#mc-embedded-subscribe-form").submit():console.log("some errors")})},copyLink:function(){if(""!==this.wallet&&!this.address_error){document.querySelector("#mce-LINK").select();try{this.copied=document.execCommand("copy")}catch(e){this.copied=!1}}}},computed:{generateLink:function(){return this.address_error=""!==this.wallet&&!web3.isAddress(this.wallet),""===this.wallet||this.address_error?"":"https://www.friendsfingers.com/?utm_campaign=bounty&utm_source="+this.wallet}}});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),viewCrowdsale:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return App.init(),Vue.use(VeeValidate),e.next=4,App.initCrowdsale();case 4:return e.next=6,App.initToken();case 6:new Vue({el:"#crowdsale-details",data:{funds:1,crowdsale:{cap:0,goal:0,weiRaised:0,soldTokens:0,rate:0,investorCount:0,startTime:0,endTime:0,projectInfo:{}},token:{crowdsaleSupply:0,friendsFingersSupply:0,maxSupply:0,totalSupply:0}},created:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,App.contracts.FriendsFingersCrowdsale.at(t);case 2:return r=e.sent,e.t0=App.contracts.FriendsFingersToken,e.next=6,r.token();case 6:return e.t1=e.sent,e.next=9,e.t0.at.call(e.t0,e.t1);case 9:return n=e.sent,this.token.address=n.address,e.next=13,n.name();case 13:return this.token.name=e.sent,e.next=16,n.symbol();case 16:return this.token.symbol=e.sent,e.next=19,n.decimals();case 19:return this.token.decimals=e.sent.valueOf(),e.next=22,n.totalSupply();case 22:return e.t2=e.sent,e.t3=Math.pow(10,this.token.decimals),this.token.totalSupply=e.t2/e.t3,this.crowdsale.address=r.address,e.t4=web3,e.next=29,r.cap();case 29:return e.t5=e.sent,this.crowdsale.cap=e.t4.fromWei.call(e.t4,e.t5).valueOf(),e.t6=web3,e.next=34,r.goal();case 34:return e.t7=e.sent,this.crowdsale.goal=e.t6.fromWei.call(e.t6,e.t7).valueOf(),e.t8=web3,e.next=39,r.weiRaised();case 39:return e.t9=e.sent,this.crowdsale.weiRaised=e.t8.fromWei.call(e.t8,e.t9).valueOf(),e.next=43,r.rate();case 43:return this.crowdsale.rate=e.sent.valueOf(),e.next=46,r.soldTokens();case 46:return e.t10=e.sent,e.t11=Math.pow(10,this.token.decimals),this.crowdsale.soldTokens=e.t10/e.t11,e.next=51,r.investorCount();case 51:return this.crowdsale.investorCount=e.sent.valueOf(),e.next=54,r.startTime();case 54:return e.t12=e.sent.valueOf(),this.crowdsale.startTime=1e3*e.t12,this.crowdsale.startTimeFormatted=new Date(this.crowdsale.startTime).toLocaleString(),e.next=59,r.endTime();case 59:return e.t13=e.sent.valueOf(),this.crowdsale.endTime=1e3*e.t13,this.crowdsale.endTimeFormatted=new Date(this.crowdsale.endTime).toLocaleString(),e.t14=JSON,e.next=65,r.crowdsaleInfo();case 65:return e.t15=e.sent,this.crowdsale.projectInfo=e.t14.parse.call(e.t14,e.t15),e.next=69,r.friendsFingersRatePerMille();case 69:this.crowdsale.friendsFingersRatePerMille=e.sent.valueOf(),this.token.crowdsaleSupply=this.crowdsale.cap*this.crowdsale.rate,$(".crowdsale-box").toggleClass("d-none");case 72:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{fundCrowdsale:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$validator.validateAll().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var s,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.next=3,App.contracts.FriendsFingersCrowdsale.at(t);case 3:return s=e.sent,a=web3.toWei(r.funds),e.next=7,s.send(a);case 7:o=e.sent,console.log(o),e.next=12;break;case 11:console.log("some errors");case 12:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};